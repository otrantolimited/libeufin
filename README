Installing LibEuFin
===================

$ ./bootstrap
$ ./configure --prefix=$PFX
$ make install

If the previous step succeeded, libeufin-nexus and a command line
client (libeufin-cli) should be found under $PFX/bin.  Additionally,
the libeufin-sandbox command used for testing should be found under
$PFX/bin as well.

Running tests
=============

Tests need a PostgreSQL database called "libeufincheck" that can
be accessed without credentials over TCP/IPv4.
Edit /etc/postgresql/$PG_VERSION/main/pg_hba.conf so that it will
contain one line in the following format:

  host libeufincheck all 127.0.0.1/32 trust

In case IPv6 is used, then replace "127.0.0.1/32" with "::1/128".
Note: these instructions were tested with $PG_VERSION set to "14".

Restart the database:
  
  $ systemctl restart postgresql

If the previous steps succeeded _and_ libeufin is correctly installed,
then tests can be run in the following way, from this (repository
top level directory):

  $ make check

Launching LibEuFin
==================

Launch Nexus:

$ libeufin-nexus serve --with-db=jdbc:postgres://localhost:5433?user=foo&password=bar

More instructions about configuring and setting Libeufin
are available at this link:

https://docs.taler.net/libeufin/nexus-tutorial.html

Exporting a dist-file
=====================

$ ./bootstrap
$ make dist

The TGZ file should be found at: build/distributions/libeufin-$VERSION-sources.tar.gz

Exporting an archive with the three executables
===============================================

Such archive contains the compiled Sandbox and Nexus,
and the CLI script.

$ ./bootstrap # Needed to silence 'GNU make'
$ make exec-arch

Alternatively, the same archive is produced by:

$ ./gradlew execArch

The archive should be found at: build/distributions/libeufin-$VERSION.zip

After extracting the compressed files, run the three
executable found under the "bin/" folder.

User interface
==============

This repository does not ship any UI, rather it downloads
one from the following project along the "make deb" target:
https://git.taler.net/wallet-core.git/tree/packages/demobank-ui

This way, the libeufin-sandbox Debian package provides one
self-contained solution including Nginx, LibEuFin Sandbox,
and the UI.

Note: the UI an independent Web app that could even be served
from a different host than the one running the backend.
